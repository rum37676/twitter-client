<template>
  <require from="./blob-to-url"></require>
  <require from="./file-list-to-array"></require>

  <div class="ui grid">
    <div class="three wide column"></div>
    <div class="ten wide column">

      <div class="ui icon message" show.bind="error">
        <i class="warning  icon"></i>
        <div class="content">
          <div class="header">
            Empty Tweets are not allowed!
          </div>
          <p>Please enter a tweet text or a image!</p>
        </div>
      </div>

      <form submit.delegate="createTweet()" class="ui form stacked segment">

        <div class="grouped inline fields">
          <label>Text</label>
          <textarea type="textarea" rows="3" maxlength="140" value.bind="tweetText"></textarea>
        </div>

        <div class="grouped inline fields">
          <label>Image</label>
          <input type="file" accept="image/*" name="image" id="image" files.bind="selectedFiles" change.delegate="addPicturesToArray($event)">

          <table>
            <tr>
              <th repeat.for="file of imageList">
                <img src.bind="file | blobToUrl" height="200" width="auto"><img>
              </th>
            </tr>
          </table>
        </div>
        <button class="ui blue submit button">Twittern</button>

      </form>

    </div>
    <div class="three wide column"></div>
  </div>
</template>
