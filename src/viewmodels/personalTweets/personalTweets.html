<template>
  <require from="./blob-to-url"></require>
  <require from="./file-list-to-array"></require>

  <div class="ui grid">
    <div class="three wide column"></div>
    <div class="ten wide column">

      <form submit.delegate="createTweet()" class="ui form stacked segment">

        <h3 class='ui dividing header'> Personal Timeline </h3>

        <div class="grouped inline fields">
          <label>Text</label>
          <textarea type="textarea" rows="3" maxlength="140" value.bind="tweetText"></textarea>
        </div>

        <div class="grouped inline fields">
          <!--<input type="file" accept="image/*" name="tweetImage" id="tweetImage" files.bind="tweetImage" change.delegate="addPicturesToArray($event)">-->

          <label>Image</label>
          <input type="file" accept="image/*" name="image" id="image" files.bind="selectedFiles" change.delegate="addPicturesToArray($event)">

          <table>
            <tr>
              <th repeat.for="file of imageList">
                <img src.bind="file | blobToUrl" height="200" width="auto"><img>
              </th>
            </tr>
          </table>
        </div>
        <button class="ui blue submit button">Twittern</button>

      </form>

      <div class="ui field piled segment" repeat.for="tweet of tweets">
        <h3 class="ui dividing header">${tweet.tweeter.name} </h3>
        <!--<div class="ui stackable two column grid">
          <div class="column">
            <h3 class="ui dividing header">${tweet.tweeter.name} </h3>
          </div>
          <div class="column">
            <h6 class="ui header">@${tweet.tweeter.username}</h6>
          </div>
        </div>-->
        <div class="field">
          ${tweet.text}
        </div>
        <div class="field">
          <img src.bind="tweet.image_src" height="auto" width="100%"><img>
        </div>
      </div>

      <!--<table class="ui celled table segment">
        <tbody>
        <tr repeat.for="tweet of tweets">
          <td>
            <div class="inline field">
              <h5 class="ui header">${tweet.tweeter.name} </h5>
              <h6 class="ui header">@${tweet.tweeter.username}</h6>
            </div>
            <div class="field">
              ${tweet.text}
            </div>
            <div class="field">
              <img src.bind="tweet.image_src" height="auto" width="100%"><img>
            </div>
          </td>
        </tr>
        </tbody>
      </table>-->


    </div>
    <div class="three wide column"></div>
  </div>

</template>
